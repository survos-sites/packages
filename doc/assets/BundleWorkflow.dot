digraph workflow {
  ratio="compress" rankdir="TB" label=<<B>BundleWorkflow</B>>
  node [fontsize="8" fontname="Arial" color="lightBlue" style="filled" fixedsize="false" width="2" height="1"];
  edge [fontsize="7" fontname="Arial" color="#333333" arrowhead="normal" arrowsize="0.5"];

  place_new [label=<<B>new</B><BR/><I>basic from app:load</I>>, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place new: load from https://packagist.org/packages/list.json"];
  place_composer_loaded [label=<<B>composer_loaded</B><BR/><I>composer.json</I><BR/><BR/>Then: <U>php_okay</U> <U>php_too_old</U> >, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place composer_loaded: Loaded from /packages/%s.json on https://packagist.org/packages/list.json"];
  place_outdated_symfony [label=<<B>outdated_symfony</B><BR/><I>outdated symfony</I>>, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place outdated_symfony: "];
  place_symfony_ok [label=<<B>symfony_ok</B><BR/><I>works with supported Symfony</I>>, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place symfony_ok: "];
  place_php_is_too_old [label=<<B>php_is_too_old</B><BR/><I>outdated PHP</I>>, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place php_is_too_old: "];
  place_php_ok [label=<<B>php_ok</B><BR/><I>php okay</I><BR/><BR/>Then: <U>symfony_okay</U> <U>symfony_outdated</U> >, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place php_ok: "];
  place_abandoned [label=<<B>abandoned</B><BR/><I>abandoned or misconfigured</I>>, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place abandoned: "];
  place_valid [label=<<B>valid</B><BR/><I>usable!</I>>, shape=oval fillcolor="lightgreen" style="filled" xlabel="Place valid: "];
  transition_load [label=<<B>load</B><BR/><I>details from packagist API</I><BR/>async: >, shape="box" regular="" xlabel="Transition load: Slow but detailed API call"];
  transition_abandon [label=<<B>abandon</B>>, shape="box" regular="" xlabel="Transition abandon: "];
  transition_valid [label=<<B>valid</B>>, shape="box" regular="" xlabel="Transition valid: "];
  transition_php_too_old [label=<<B>php_too_old</B><BR/><I>PHP &lt; 8.1?</I>>, shape="box" regular="" xlabel="Transition php_too_old: "];
  transition_php_okay [label=<<B>php_okay</B><BR/><I>PHP &gt;= 8.1?</I>>, shape="box" regular="" xlabel="Transition php_okay: "];
  transition_symfony_outdated [label=<<B>symfony_outdated</B><BR/><I>Symfony &lt; 5.4?</I>>, shape="box" regular="" xlabel="Transition symfony_outdated: "];
  transition_symfony_okay [label=<<B>symfony_okay</B><BR/><I>Symfony &gt; 5.4</I>>, shape="box" regular="" xlabel="Transition symfony_okay: "];
  place_new -> transition_load [style="solid", comment="new"];
  transition_load -> place_composer_loaded [style="solid"];
  place_symfony_ok -> transition_load [style="solid", comment="symfony_ok"];
  transition_load -> place_composer_loaded [style="solid"];
  place_valid -> transition_load [style="solid", comment="valid"];
  transition_load -> place_composer_loaded [style="solid"];
  place_new -> transition_abandon [style="solid", comment="new"];
  transition_abandon -> place_abandoned [style="solid"];
  place_symfony_ok -> transition_valid [style="solid", comment="symfony_ok"];
  transition_valid -> place_valid [style="solid"];
  place_composer_loaded -> transition_php_too_old [style="solid", comment="composer_loaded"];
  transition_php_too_old -> place_php_is_too_old [style="solid"];
  place_composer_loaded -> transition_php_okay [style="solid", comment="composer_loaded"];
  transition_php_okay -> place_php_ok [style="solid"];
  place_php_ok -> transition_symfony_outdated [style="solid", comment="php_ok"];
  transition_symfony_outdated -> place_outdated_symfony [style="solid"];
  place_php_ok -> transition_symfony_okay [style="solid", comment="php_ok"];
  transition_symfony_okay -> place_symfony_ok [style="solid"];
}
